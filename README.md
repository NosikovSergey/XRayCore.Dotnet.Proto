# XrayCore.Proto

NuGet-–ø–∞–∫–µ—Ç —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ gRPC-–∫–ª–∏–µ–Ω—Ç–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ
`.proto` —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ **Xray-core**.

------------------------------------------------------------------------

## –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:

-   **XTLS/Xray-core**
-   GitHub: https://github.com/XTLS/Xray-core

–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, API –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∞–≤—Ç–æ—Ä–∞–º
Xray-core.\
–î–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –ª–∏—à—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—É—é .NET-—Å–±–æ—Ä–∫—É —Å –≥–æ—Ç–æ–≤—ã–º–∏
gRPC-–∫–ª–∏–µ–Ω—Ç–∞–º–∏.

------------------------------------------------------------------------

## –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

`XrayCore.Proto` --- —ç—Ç–æ:

-   üì¶ –°–±–æ—Ä–∫–∞ `.proto` —Ñ–∞–π–ª–æ–≤ Xray-core
-   üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è C# gRPC Client
-   üöÄ –ì–æ—Ç–æ–≤—ã–π NuGet-–ø–∞–∫–µ—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ .NET
-   üìÅ –í–∫–ª—é—á—ë–Ω–Ω—ã–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ `.proto` —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞

–ü—Ä–æ–µ–∫—Ç **–Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª** --- –æ–Ω –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ `.proto`
–≤ C# –∫–ª–∞—Å—Å—ã.

------------------------------------------------------------------------

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–∫–µ—Ç–∞

-   **TargetFramework**: `net8.0`
-   **PackageId**: `XrayCore.Proto`
-   **–õ–∏—Ü–µ–Ω–∑–∏—è**: `MPL-2.0`
-   **–ê–≤—Ç–æ—Ä**: Nosikov Sergey

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

-   `Grpc.Tools`
-   `Google.Protobuf`
-   `Grpc.Net.Client`

------------------------------------------------------------------------

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ CLI

``` bash
dotnet add package XrayCore.Proto
```

### –ß–µ—Ä–µ–∑ NuGet Package Manager

``` powershell
Install-Package XrayCore.Proto
```

------------------------------------------------------------------------

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

``` csharp
using Grpc.Net.Client;
using Xray.App.Proxyman.Command;

var channel = GrpcChannel.ForAddress("http://127.0.0.1:10085");
var client = new HandlerService.HandlerServiceClient(channel);

var response = await client.GetInboundUsersAsync(new GetInboundUsersRequest
{
    Tag = "example"
});
```

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Xray-core –∑–∞–ø—É—â–µ–Ω —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º gRPC API.

------------------------------------------------------------------------

## –ö–∞–∫ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø–∞–∫–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ `.proto` —Ñ–∞–π–ª—ã –∏–∑:

    ../externals/Xray-core/**/*.proto

–í `.csproj` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

``` xml
<Protobuf Include="../externals/Xray-core/**/*.proto"
          ProtoRoot="../externals/Xray-core"
          Pack="true"
          PackagePath="Xray/Protos/"
          GrpcServices="Client" />
```

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏:

-   –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ **Client** —Å–µ—Ä–≤–∏—Å—ã
-   `.proto` —Ñ–∞–π–ª—ã –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä—å NuGet-–ø–∞–∫–µ—Ç–∞
-   Namespace —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

------------------------------------------------------------------------

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü–∞–∫–µ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:

-   –°–æ–∑–¥–∞–Ω–∏—è .NET –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫ Xray-core
-   –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Xray —á–µ—Ä–µ–∑ gRPC
-   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Xray –≤ backend-—Å–µ—Ä–≤–∏—Å—ã –∏ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

------------------------------------------------------------------------

## –í–∞–∂–Ω–æ

-   –ü–∞–∫–µ—Ç **–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç Xray-core**
-   –ü–∞–∫–µ—Ç **–Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç API**
-   –í–µ—Ä—Å–∏—è –ø–∞–∫–µ—Ç–∞ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–µ—Ä—Å–∏–∏ Xray-core
-   –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Xray-core —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞

------------------------------------------------------------------------

## –õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ

-   `.proto` —Ñ–∞–π–ª—ã —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ
    –ø—Ä–æ–µ–∫—Ç–∞ --- MPL-2.0.
-   –î–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ MPL-2.0.
